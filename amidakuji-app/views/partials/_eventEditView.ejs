<div class="event-header">
  <button id="backToGroupsButton"><i data-lucide="<%= emojiToLucide('←') %>"></i> グループ一覧に戻る</button>
</div>
<h3>イベント新規作成・編集</h3>
<div class="controls">
  <div class="settings-section">
    <h4>1. イベント情報</h4>
    <div class="input-group">
      <label for="eventNameInput">イベント名:</label>
      <input type="text" id="eventNameInput" placeholder="（例: 忘年会2025）" />
    </div>
    <p>現在のイベントURL: <a id="currentEventUrl" href="#" target="_blank">（未作成または未読み込み）</a></p>
  </div>
  <div class="settings-section">
    <h4>2. 景品</h4>
    <div class="prize-controls-header">
      <div class="input-group prize-main-controls">
        <button id="openAddPrizeModalButton" class="primary-action"><i data-lucide="<%= emojiToLucide('＋') %>"></i> 追加</button>
        <button id="bulkAddPrizesButton">テキスト流し込み</button>
        <button id="shufflePrizesButton" type="button"><i data-lucide="<%= emojiToLucide('🔄') %>"></i> ランダム並び替え</button>
        <button id="showSummaryButton">集計</button>
      </div>
      <div class="view-mode-switcher">
        <button id="viewModeCard" class="view-mode-btn active" data-mode="card">カード表示</button>
        <button id="viewModeList" class="view-mode-btn" data-mode="list">リスト表示</button>
      </div>
    </div>
    <ul id="prizeCardListContainer" class="prize-card-list"></ul>
    <div id="prizeListModeContainer" style="display: none;"></div>
  </div>
  <div class="settings-section">
    <h4>3. 公開設定</h4>
    <p>参加者が参加枠を選ぶ画面で、どこまで景品情報を表示するか設定します。</p>
    <div class="input-group checkbox-group">
      <input type="checkbox" id="displayPrizeName" checked />
      <label for="displayPrizeName">景品名を表示する</label>
    </div>
    <div class="input-group checkbox-group">
      <input type="checkbox" id="displayPrizeCount" checked />
      <label for="displayPrizeCount">景品ごとの個数を表示する</label>
    </div>
    <div class="display-preview">
      <h5>参加者への表示プレビュー</h5>
      <ul id="prizeDisplayPreview" class="item-list"></ul>
    </div>
  </div>
  <div class="settings-section">
    <h4>4. インタラクティブ設定</h4>
    <div class="input-group checkbox-group">
      <input type="checkbox" id="allowDoodleModeCheckbox" />
      <label for="allowDoodleModeCheckbox">落書きモードを許可する</label>
    </div>
  </div>

  <div class="settings-section">
    <h4>5. 最終準備</h4>
    <p>あみだくじの状態をプレビューし、必要に応じて調整します。</p>
    <div class="input-group">
      <button id="showFillSlotsModalButton"><i data-lucide="users"></i> 参加枠を埋める</button>
      <button id="regenerateLinesButton"><i data-lucide="refresh-cw"></i> 線を再生成</button>
      <button id="shufflePrizesBroadcastButton"><i data-lucide="gift"></i> 景品シャッフル</button>
    </div>
    <div class="canvas-panzoom-container" style="margin-top: 15px;">
      <div class="panzoom-wrapper">
        <canvas id="eventEditPreviewCanvas"></canvas>
      </div>
    </div>
  </div>
  <div class="settings-section">
    <h4>6. 作成・配信</h4>
    <button id="createEventButton" class="primary-action">この内容でイベントを保存</button>
    <a href="#" id="goToBroadcastViewButton" class="button" style="display: none;">配信画面へ進む <i data-lucide="arrow-right"></i></a>
  </div>
</div>