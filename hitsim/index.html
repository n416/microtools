<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>装備シミュレータ</title>
    <link rel="stylesheet" href="simulator.css">
</head>

<body>
    <div class="header-container">
        <h1>装備シミュレータ</h1>
        <div class="header-buttons">
            <a href="data.html" id="edit-inventory-button" class="button-like">インベントリ編集</a>
        </div>
    </div>
    <div class="simulator-container">
        <div id="equipment-panel">
            <button id="share-button">共有</button>
            <div id="column-1" class="equipment-column">
                <div class="slot" id="slot-weapon"><span>武器</span></div>
                <div class="slot" id="slot-top"><span>上装備</span></div>
                <div class="slot" id="slot-bottom"><span>下装備</span></div>
                <div class="slot" id="slot-cloak"><span>マント</span></div>
                <div class="slot" id="slot-necklace"><span>ネックレス</span></div>
                <div class="slot" id="slot-ring1"><span>リング</span></div>
                <div class="slot" id="slot-ring3"><span>リング</span></div>
                <div class="slot" id="slot-ring5"><span>リング</span></div>
                <div class="slot" id="slot-guardian"><span>守護具</span></div>
                <div class="slot" id="slot-campanella"><span>カンパネラ</span></div>
            </div>
            <div id="column-2" class="equipment-column">
                <div class="slot" id="slot-head"><span>頭</span></div>
                <div class="slot" id="slot-hands"><span>手</span></div>
                <div class="slot" id="slot-feet"><span>足</span></div>
                <div class="slot" id="slot-belt"><span>ベルト</span></div>
                <div class="slot" id="slot-bracelet"><span>ブレスレット</span></div>
                <div class="slot" id="slot-ring2"><span>リング</span></div>
                <div class="slot" id="slot-ring4"><span>リング</span></div>
                <div class="slot" id="slot-medal"><span>勲章</span></div>
                <div class="slot" id="slot-amulet"><span>アミュレッタ</span></div>
                <div class="slot" id="slot-placeholder"></div>
            </div>

            <div id="set-controls">
                <div id="set-switchers">
                    <button class="set-button" data-set-id="1">1</button>
                    <button class="set-button" data-set-id="2">2</button>
                    <button class="set-button" data-set-id="3">3</button>
                    <button class="set-button" data-set-id="4">4</button>
                </div>
                <div id="set-actions">
                    <button id="copy-set-button" class="button-like">コピー</button>
                    <button id="clear-set-button" class="button-like">クリア</button>
                </div>
            </div>
        </div>

        <div id="inventory-panel">
            <div id="inventory-tabs">
                <button class="tab-button active" data-category="all">全て</button>
                <button class="tab-button" data-category="weapon">武器</button>
                <button class="tab-button" data-category="armor">防具</button>
                <button class="tab-button" data-category="accessory">アクセ</button>
                <button id="add-custom-tab-button" title="カスタムタブを追加">+</button>
            </div>
            <div id="inventory-list">
            </div>
        </div>
        <div id="stats-panel"></div>
    </div>

    <div id="item-details-panel">
        <div class="details-header">
            <h2 id="details-item-name">アイテム詳細</h2>
            <div id="enchant-controls">
                <button id="enchant-down-button">-</button>
                <span id="details-item-enchant"></span>
                <button id="enchant-up-button">+</button>
            </div>
        </div>
        <div class="details-content">
            <img id="details-item-image" src="" alt="">
            <div id="details-stats-list"></div>
        </div>

        <div id="details-actions" class="details-actions-container hidden">
            <button id="details-action-set" class="button-like">セットする</button>
            <button id="details-action-duplicate" class="button-like">複製する</button>
            <button id="details-action-delete" class="button-like">削除する</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
    <script src="db-setup.js"></script>
    <div id="share-modal-overlay" class="hidden">
        <div id="share-modal">
            <p>共有されたデータがあります。<br>読み込みますか？</p>
            <div class="modal-buttons">
                <button id="modal-ok-button">OK</button>
                <button id="modal-cancel-button">キャンセル</button>
            </div>
        </div>
    </div>

    <div id="copy-modal-overlay" class="hidden">
        <div id="copy-modal">
            <p>どのセットからコピーしますか？</p>
            <div id="copy-source-options" class="modal-options">
            </div>
            <div class="modal-buttons">
                <button id="copy-modal-cancel-button">キャンセル</button>
            </div>
        </div>
    </div>
    <div id="generic-modal-overlay" class="hidden">
        <div id="generic-modal">
            <h3 id="generic-modal-title">タイトル</h3>
            <div id="generic-modal-content">
                <p>ここにメッセージや入力フォームが入ります。</p>
            </div>
            <div id="generic-modal-buttons">
            </div>
        </div>
    </div>

    <script src="simulator.js"></script>
</body>

</html>